<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chemicals componds search in wikipedia</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="css/ChemDoodleWeb.css" type="text/css">

    <link href="css/jquery-ui-1.10.3.custom.min.css" rel="stylesheet">

    <style type="text/css">
       .wide-input { width:100%; }
       .search-button { text-align:center; }
    </style>
    <script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="js/ChemDoodleWeb-libs.js"></script>
    <script type="text/javascript" src="js/ChemDoodleWeb.js"></script>
    <script type="text/javascript" src="js/underscore-min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/ChemDoodleWeb-sketcher.js"></script>
    <script type="text/javascript" src="js/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-paginator.min.js"></script>
    <script type="text/javascript" src="js/spin.min.js"></script>   
    <script type="text/javascript" src="js/chwise.net.js"></script>
    <script type="text/template" id="chwise-result-template">

       <% for(var i = 0; i < responseRecords.length; ++i) { %>
       <li>
          <div class="panel panel-default">
              <div class="panel-body">
                 <h4><a href="http://en.wikipedia.org/wiki/<%= responseRecords[i].title %>"><%= responseRecords[i].title %></a></h4>

                 <div  class="col-md-8" >
                    <div class="row">
                       <h5>Synonyms: <% for(var j = 0; j < responseRecords.length; ++j) { %> &nbsp; <%= responseRecords[i].synonyms[j] %> <% } %></h5>
                    </div>

                    <div class="row">
                       <h5>
                       <% if ("cas" in responseRecords[i].externalrefs) { %>
                            CAS Number: <%= responseRecords[i].externalrefs["cas"] %>;
                       <% }
                          if ("pubchem" in responseRecords[i].externalrefs) { %>
                              PubChem Id: <%= responseRecords[i].externalrefs["pubchem"] %>;
                       <% }
                          if ("chemspider" in responseRecords[i].externalrefs) { %>
                              ChemSpider Id: <%= responseRecords[i].externalrefs["chemspider"] %>;
                       <% } %>
                       </h5>
                    </div>

                    <div class="row">
                         <%= responseRecords[i].textFragment %>
                    </div>
                 </div> <!-- <div  class="col-md-8" > -->

                 <div class = "col-md-4">
                     <canvas id="moleculeCanvas<%= i %>" ></canvas>
                 </div>

              </div> <!-- <div class="panel panel-default"> -->
          </div> <!-- <div class="panel-body"> -->
       </li>
       <% } %>

    </script>
    <script type="text/template" id="chwise-error-template">
       <% if (severity == "info") { %>
          <div class="alert alert-info alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <strong>We couldnt understand your query</strong> <%=message%>
          </div>
       <% } else if (severity == "warning") { %>
          <div class="alert alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <strong>Warning</strong> <%=message%>
          </div>
       <% } else if (severity == "error") { %>
          <div class="alert alert-error alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <strong>Ups</strong> <%=message%>
          </div>
       <% } %>
    </script>
  </head>
  <body>

    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-static-top" role="navigation">

      <div class="navbar-header">
        <a class="navbar-brand" href="#">ChWiSe.Net</a>
      </div>

      <div class="collapse navbar-collapse navbar-ex1-collapse">
        <ul class="nav navbar-nav">
          <li class="active"><a href="#">Search compound</a></li>
          <li><a href="#">About</a></li>
        </ul>
      </div>
    </nav>

    <!-- Tools for search -->
    <div class="container">
      <form>
        <div class="input-group,wide-input" >
          <input type="text" class="form-control" placeholder="Free text" name="textquery">
        </div>
        <div class="input-group">
          <input id="smilesEdit" type="text" class="form-control" placeholder="Structure in SMILES" name="structurequery" >
          <span class="input-group-btn">
            <a data-toggle="modal" href="#structEditor" class="btn btn-default">Start sturcture editor</a>
          </span>
        </div>
        <p></p>
        <div class="search-button">
          <button type="button" class="btn btn-large btn-primary chwise-btn-search">Search</button>
        </div>

      </form>
    </div>

    <div class="modal fade" id="structEditor" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">Structure editor</h4>
          </div>
          <div class="modal-body" id="structEditingArea" >
             <canvas id="sketcher"></canvas>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary chwise-btn-finishedit">Save changes</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>

    <!-- Problems with search notifications -->
    <div class="container" id="search-problem-notification" >
    </div>

    <!-- Results -->
    <div class="container" id="search-results-div" >
      <h2>Search results</h2>
      <ol id="results-list">
<!-- Search results inserted here -->
      </ol>
    </div>

    <!--Paging -->
    <div class="container">
      <ul id="paginator"></ul>
    </div>

    <div class="container" id="total-results" >
    </div>

  </body>
</html>
